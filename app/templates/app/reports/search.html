{% extends "app/base.html" %}
{% block title %}Search{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
		<h2 class="m-0">Search books</h2>
	</div>
<form class="row g-2 mb-3" method="get">
	<div class="col-md-8">
		<input class="form-control" type="text" name="q" placeholder="Search in description" value="{{ q }}">
	</div>
	<div class="col-md-2">
		<button class="btn btn-primary w-100" type="submit">Search</button>
	</div>
	<div class="col-md-2">
		<a class="btn btn-outline-secondary w-100" href="?">Reset</a>
	</div>
	<input type="hidden" name="page" value="{{ page_obj.number }}">
</form>

<div class="card">
	<div class="list-group list-group-flush">
	{% for b in page_obj.object_list %}
		<a class="list-group-item list-group-item-action" href="{% url 'book_detail' b.id %}">
			<div class="d-flex w-100 justify-content-between">
				<h5 class="mb-1">{{ b.name }}</h5>
				<small class="text-muted">{{ b.author.name }}</small>
			</div>
			<p class="mb-1 text-muted">{{ b.summary|truncatechars:200 }}</p>
		</a>
	{% empty %}
		<div class="text-muted">No results.</div>
	{% endfor %}
	</div>
</div>
<div class="mt-3">{% include 'app/_pagination_bootstrap.html' %}</div>
{% endblock %}
